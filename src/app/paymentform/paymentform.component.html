<div class="container" rtl>
  <mat-horizontal-stepper linear #stepper>
    <ng-template matStepperIcon="form">
      <mat-icon>format_align_center</mat-icon>
    </ng-template>
    <ng-template matStepperIcon="done">
      <mat-icon>done_all</mat-icon>
    </ng-template>
    <mat-step label="Fill out your informations" state="form">
<!--      <ng-container *ngIf="formValueChanges$ | async as updatedForm">
        {{update(updatedForm)}}
      </ng-container>-->
      <form [formGroup]="form" (ngSubmit)="submit()">
        <div class="row justify-content-center">
          <div class="col-md-8">
            <mat-card>
              <div class="row">
                <img src = "../assets/images/mortgage-amount.jpg" width ="30px" height="30px"/>
                <mat-form-field class="col" >
                  <input matInput placeholder="{{ 'form.mortgage-amount' | translate }}"  style="border-radius:10px; border-width:2px"
                         formControlName="mortgageAmount">
                  <mat-error *ngIf="form.get('mortgageAmount').invalid">
                    {{ 'form.mortgage-amount-error' | translate }}
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="row">
                <img src = '../assets/images/mortgage-interestRate.png' width ="30px" height="30px"/>
                <mat-form-field class="col" >
                  <input matInput placeholder="{{ 'form.mortgage-rate' | translate }}"
                         formControlName="mortgageRate">
                  <mat-error *ngIf="form.get('mortgageRate').invalid">
                    {{ 'form.mortgage-rate-error' | translate }}
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="row">
                <img src = '../assets/images/mortgage-amort.png' width ="32px" height="32px"/>
                <mat-select formControlName="amort" style="min-width:200px;border:none" required>
                  <mat-option *ngFor="let amortPeriod of amortPeriods" [value]="amortPeriod">
                    {{amortPeriod}}
                  </mat-option>
                </mat-select>
              </div>
              <div class="row">
                <img src = '../assets/images/mortgage-freq.png' width ="30px" height="30px"/>
                <mat-form-field class="col" >
                  <input matInput placeholder="{{ 'form.mortgage-frequency' | translate }}"
                         formControlName="mortgageFreq">
                  <mat-error *ngIf="form.get('mortgageFreq').invalid">
                    {{ 'form.mortgage-frequency-error'| translate }}
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="row">
                <img src = '../assets/images/mortgage-term.png' width ="25px" height="30px"/>
                <mat-form-field class="col" >
                  <input matInput placeholder="{{ 'form.mortgage-term' | translate }}"
                         formControlName="mortgageTerm" minLength="6" maxLength="6">
                  <mat-error *ngIf="form.get('mortgageTerm').invalid">
                    {{ 'form.mortgage-term-error'| translate }}
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="row buttons d-flex justify-content-between pad">
                <button class="save" mat-raised-button color="primary" (click)="stepper.next()">
                  <mat-icon>send</mat-icon>{{ 'form.calculate' | translate }}
                </button>
                <button type="reset"  class="reset" mat-raised-button color="warn" (click)="reset()">
                  <mat-icon>refresh</mat-icon>{{ 'form.reset' | translate }}
                </button>
              </div>
            </mat-card>
          </div>
        </div>
      </form>
    </mat-step>
    <mat-step state="done">
      <ng-template matStepLabel>Done</ng-template>
    </mat-step>
  </mat-horizontal-stepper>

